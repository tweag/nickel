# test.type = 'pass'
let {check, ..} = import "../lib/assert.ncl" in
let {string, ..} = std in

[
  # string.characters
  string.characters "æ¼¢å­—" == ["æ¼¢", "å­—"],
  string.characters "ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨" == ["ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨"],
  string.characters "ab_cd" == ["a", "b", "_", "c", "d"],
  string.characters "" == [],
  string.characters "ðŸ˜­ðŸ‘»ðŸ‘€" == ["ðŸ˜­", "ðŸ‘»", "ðŸ‘€"],
  string.characters "ðŸ‘©ðŸ¾â€ðŸ¦²ðŸ‘©ðŸ»â€ðŸ¦²ðŸ‘©ðŸ¿â€ðŸ¦²" == ["ðŸ‘©ðŸ¾â€ðŸ¦²", "ðŸ‘©ðŸ»â€ðŸ¦²", "ðŸ‘©ðŸ¿â€ðŸ¦²"],
  string.characters "unicÅ‘de" == ["u", "n", "i", "c", "Å‘", "d", "e"],

  # string.length
  string.length "" == 0,
  string.length " " == 1,
  string.length "nickel" == 6,
  string.length m%"
      a multiline string
      stretched over lines
      what length should it be?"% == 65,
  # Hungarian `Å‘` character.
  string.length "unicÅ‘de" == 7,
  # Vietnamese `eÌ‚Ì ` character.
  string.length "nickeÌ‚Ìl" == 6,
  string.length "å››å­—ç†Ÿèªž" == 4,
  string.length "ðŸ‘©ðŸ¿â€â¤ï¸â€ðŸ’‹â€ðŸ‘©ðŸ¼" == 1,
  string.length "ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨" == 1,

  # string.substring
  string.substring 3 5 "abcdef" == "de",
  string.substring 0 6 "nickel is great" == "nickel",
  string.substring 0 1 "ðŸ‘©ðŸ»â€ðŸ¦²" == "ðŸ‘©ðŸ»â€ðŸ¦²",
  string.substring 1 6 "ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨hello" == "hello",
  string.substring 2 4 "abðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨cd" == "ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨ðŸ‘¨â€â¤ï¸â€ðŸ’‹â€ðŸ‘¨",
] |> check
